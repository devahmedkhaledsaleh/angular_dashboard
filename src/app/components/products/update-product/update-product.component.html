
  

  <form [formGroup]="productForm" enctype="multipart/form-data">
    <input
    type="hidden"
    name="token"
    formControlName="token"
    [value]="{adminToken}"
  />

  <input
    type="hidden"
    name="_id"
    formControlName="_id"
    [value]="currentProduct?.data?._id"
  />
    <div class="card-body">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        [value]="currentProduct?.data?.name"
        [ngClass]="
          productForm.controls['name'].invalid &&
          (productForm.controls['name'].dirty ||
            productForm.controls['name'].touched)
            ? 'is-invalid'
            : ''
        "
        [ngClass]="
          productForm.controls['name'].valid &&
          (productForm.controls['name'].dirty ||
            productForm.controls['name'].touched)
            ? 'is-valid'
            : ''
        "
        id="name"
        placeholder="Enter Product Name"
        name="name"
        formControlName="name"
      />
  
      <div
        *ngIf="
          productForm.controls['name'].invalid &&
          (productForm.controls['name'].dirty ||
            productForm.controls['name'].touched)
        "
        class="alert alert-danger"
      >
        <span
          *ngIf="productForm.controls['name'].errors?.['required']"
          class="error"
          >Name Is Required</span
        >
        <span
          *ngIf="productForm.controls['name'].errors?.['minlength']"
          class="error"
        >
          Name must be at least 4 characters long.
        </span>
      </div>
    </div>
  
    <div class="form-group">
      <label for="price">Price</label>
      <input
        type="text"
        class="form-control"
        [value]="currentProduct?.price"
        [ngClass]="
          productForm.controls['price'].invalid &&
          (productForm.controls['price'].dirty ||
            productForm.controls['price'].touched)
            ? 'is-invalid'
            : ''
        "
        [ngClass]="
          productForm.controls['price'].valid &&
          (productForm.controls['price'].dirty ||
            productForm.controls['price'].touched)
            ? 'is-valid'
            : ''
        "
        id="price"
        placeholder="Enter Product Price"
        name="price"
        formControlName="price"
      />
  
      <div
        *ngIf="
          productForm.controls['price'].invalid &&
          (productForm.controls['price'].dirty ||
            productForm.controls['price'].touched)
        "
        class="alert alert-danger"
      >
        <span
          *ngIf="productForm.controls['price'].errors?.['required']"
          class="error"
          >Price Is Required</span
        >
        <span
          *ngIf="productForm.controls?.['price']?.errors?.['pattern']"
          class="error"
        >
          Price must be Number Only
        </span>
      </div>
    </div>
  
    <div class="form-group">
      <label for="price">quantity</label>
      <input
        type="text"
        class="form-control"
        [value]="currentProduct?.quantity"
        [ngClass]="
          productForm.controls['quantity'].invalid &&
          (productForm.controls['quantity'].dirty ||
            productForm.controls['quantity'].touched)
            ? 'is-invalid'
            : ''
        "
        [ngClass]="
          productForm.controls['quantity'].valid &&
          (productForm.controls['quantity'].dirty ||
            productForm.controls['quantity'].touched)
            ? 'is-valid'
            : ''
        "
        id="quantity"
        placeholder="Enter Product quantity"
        name="quantity"
        formControlName="quantity"
      />
  
      <div
        *ngIf="
          productForm.controls['quantity'].invalid &&
          (productForm.controls['quantity'].dirty ||
            productForm.controls['quantity'].touched)
        "
        class="alert alert-danger"
      >
        <span
          *ngIf="productForm.controls['quantity'].errors?.['required']"
          class="error"
          >quantity Is Required</span
        >
        <span
          *ngIf="productForm.controls?.['quantity']?.errors?.['pattern']"
          class="error"
        >
          quantity must be Number Only
        </span>
      </div>
    </div>

    <div class="form-group">
      <label for="image">image</label>
      <input
        type="text"
        class="form-control"
        [value]="currentProduct?.data?.image"
        [ngClass]="
          productForm.controls['image'].invalid &&
          (productForm.controls['image'].dirty ||
            productForm.controls['image'].touched)
            ? 'is-invalid'
            : ''
        "
        [ngClass]="
          productForm.controls['image'].valid &&
          (productForm.controls['image'].dirty ||
            productForm.controls['image'].touched)
            ? 'is-valid'
            : ''
        "
        id="image"
        placeholder="Enter Product image"
        name="image"
        formControlName="image"
      />
  
      <div
        *ngIf="
          productForm.controls['image'].invalid &&
          (productForm.controls['image'].dirty ||
            productForm.controls['image'].touched)
        "
        class="alert alert-danger"
      >
        <span
          *ngIf="productForm.controls['image'].errors?.['required']"
          class="error"
          >image Is Required</span
        >
       
      </div>
    </div>
  
    <!-- <div class="form-group">
      <label for="exampleInputFile">File input</label>
      <div class="input-group">
        <div class="custom-file">
          <input type="file" class="custom-file-input" id="exampleInputFile" formControlName="image"
          name="image">
          <label class="custom-file-label" for="exampleInputFile">Choose file</label>
        </div>
      </div>
    </div> -->
  
    <!-- <br />
    <label>image</label>
    <input
      type="file"
      formControlName="image"
      name="image"
      (change)="onFileChanged($event)"
    />
    <br /> -->
  
    <div class="form-group">
      <label>Category Name</label>
      <select
        class="form-control"
        name="category"
        formControlName="category"
        [ngClass]="
          productForm.controls['category'].invalid &&
          (productForm.controls['category'].dirty ||
            productForm.controls['category'].touched)
            ? 'is-invalid'
            : ''
        "
        [ngClass]="
          productForm.controls['category'].valid &&
          (productForm.controls['category'].dirty ||
            productForm.controls['category'].touched)
            ? 'is-valid'
            : ''
        "
      >

      <option [selected]="currentProduct?.data?.category == 'laptop'" value="laptop">Laptop</option>
      <option [selected]="currentProduct?.data?.category == 'mobile'" value="mobile">Mobile</option>
        <!-- <option *ngFor="let category of categoriesList" value="{{ category.id }}" [selected]="currentProduct?.category == category.id">
          {{ category.name }}
        </option> -->
      </select>
     
      
    </div>
  </div>
    <div class="card-footer">
      <button
        [disabled]="!productForm.valid"
        type="submit"
        class="btn btn-primary"
        (click)="onSubmit()"
      >
        Submit
      </button>
    </div>
  </form>
  